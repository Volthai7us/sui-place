module pixel_war::game {
    use sui::object::{Self, UID};
    use sui::transfer;
    use sui::tx_context::{TxContext};
    use sui::clock::{Self, Clock};
    use std::vector;

    const EFINISHED: u64 = 1;

    struct Pixel has store {
        color: u64,
    }

    struct Game has key, store {
        id: UID,
        x: u64,
        y: u64,
        pixels: vector<Pixel>,
        start_time: u64,
        finish_time: u64,
    }

    fun create_pixel(color: u64 ) : Pixel {
        Pixel { color }
    }

    fun sui_gallery_logo() : vector<Pixel> {
        let pixels = vector<Pixel>[create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403)];

        pixels
    }

    fun white_canvas(x: u64, y: u64) : vector<Pixel> {
        let pixels = vector::empty<Pixel>();
        let i = 0;
        while (i != x * y) {
            vector::push_back(&mut pixels, create_pixel(0xffffff));
            i = i + 1;
        };

        pixels
    }

    fun black_canvas(x: u64, y: u64) : vector<Pixel> {
        let pixels = vector::empty<Pixel>();
        let i = 0;
        while (i != x * y) {
            vector::push_back(&mut pixels, create_pixel(0x000000));
            i = i + 1;
        };

        pixels
    }

    fun min_to_ms(min: u64) : u64 {
        min * 60 * 1000
    }

    fun finished(clock: &Clock, game: &Game) : bool {
        let current_time = clock::timestamp_ms(clock);
        let passed = current_time > game.finish_time;
        passed
    }


    public entry fun create_game(x: u64, y:u64, clock: &Clock, ctx: &mut TxContext) {
        let id = object::new(ctx);

        let pixels = vector<Pixel>[create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(16777215),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403),create_pixel(8113403)];

        let current_time = clock::timestamp_ms(clock);

        let game = Game {
            id: id,
            x: x,
            y: y,
            pixels: pixels,
            start_time: current_time,
            finish_time: current_time + min_to_ms(60),
        };

        transfer::share_object(game);
    }

    public entry fun set_pixel(index: u64, color: u64, clock: &Clock, game: &mut Game) {
        let passed = finished(clock, game);
        assert!(!passed, EFINISHED);

        let pixel = vector::borrow_mut<Pixel>(&mut game.pixels, index);
        pixel.color = color;
    }

    public entry fun get_pixel(x: u64, y: u64, game: &mut Game) : u64 {
        let pixel = vector::borrow_mut<Pixel>(&mut game.pixels, x + y * game.x);
        pixel.color
    }

    public entry fun get_pixels(x: u64, y: u64, game: &mut Game) : vector<u64> {
        let pixels = vector::empty<u64>();
        let i = 0;
        while (i != x) {
            let j = 0;
            while (j != y) {
                let pixel = vector::borrow_mut<Pixel>(&mut game.pixels, j + i * game.x);
                vector::push_back(&mut pixels, pixel.color);
                j = j + 1;
            };
            i = i + 1
        };
        pixels
    }

    public entry fun get_all_pixels(game: &mut Game) : vector<u64> {
        let pixels = vector::empty<u64>();
        let i = 0;
        while (i != game.x * game.y) {
            let pixel = vector::borrow_mut<Pixel>(&mut game.pixels, i);
            vector::push_back(&mut pixels, pixel.color);
            i = i + 1
        };
        pixels
    }

    public entry fun get_size(game: &mut Game) : (u64, u64) {
        (game.x, game.y)
    }
}